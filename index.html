<!DOCTYPE html>
<html>

<head>
    <!-- A-Frame -->
    <script src="https://aframe.io/releases/1.6.0/aframe.min.js"></script>
    <!-- Geolocation features -->
    <script type='text/javascript'
        src='https://raw.githack.com/AR-js-org/AR.js/3.4.5/three.js/build/ar-threex-location-only.js'></script>
    <!-- we use three.js to handle raycasting -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/three.js/build/ar-threex.js"></script>
    <!-- AR.js A-Frame components -->
    <script src="https://raw.githack.com/AR-js-org/AR.js/master/aframe/build/aframe-ar.js"></script>
    
    <title>Workshop 3 - Group 8</title>
</head>

<body style="margin: 0; overflow: hidden;">
    <a-scene embedded arjs vr-mode-ui="enabled: false" raycaster cursor="rayOrigin: mouse" renderer="antialias: true; alpha: true" id="scene">
        <a-camera gps-new-camera='gpsMinDistance: 5'></a-camera>

        <!-- Overall container entity that holds every other entity -->
        <a-entity
            id="everything-container" rotation="0 0 0" position="0 0 0">

            <a-entity id="xerox-scene" clicker>
                <a-entity
                    id="xerox-text"
                    geometry="primitive: plane; width: 5; height: 2"
                    position="-2 1.75 -5"
                    rotation="0 20 0"
                    material="color: blue"
                    text="value: This is just sample text that is displayed right now.">
                </a-entity>

                <a-entity
                    id="xerox-3d-model"
                    gltf-model="copy-machine/scene.gltf"
                    scale="1 1 1"
                    position="2 1.75 -10"
                    rotation="0 -20 0"
                    animation="property: position; from: 2 1.5 -5; to: 2 2 -5; dur: 3000; easing: linear; loop: true; easing: easeInOutQuad; dir: alternate"
                    animation__2="property: rotation; to: 0 340 0; loop: true; dur: 10000; easing: linear">
                </a-entity>
            </a-entity>
        </a-entity>

        
        
    </a-scene>
</body>
<script>
    let xeroxText = document.querySelector("#xerox-text");
    let xerox3dModel = document.querySelector("#xerox-3d-model");

    let xeroxScene = 1;

    if (xeroxScene == 1) {
        xeroxText.setAttribute("text", "value: TEST 1");
        xerox3dModel.setAttribute("gltf-model", "xerox-alto/scene.gltf")
    } else if (xeroxScene == 2) {
        xeroxText.setAttribute("text", "value: TEST 2");
        xerox3dModel.setAttribute("gltf-model", "copy-machine/scene.gltf")
    } else if (xeroxScene == 3) {
        xeroxText.setAttribute("text", "value: TEST 3");
        xerox3dModel.setAttribute("gltf-model", "xerox-alto/scene.gltf")
    }



    AFRAME.registerComponent('clicker', {
            init: function () {
                this.el.addEventListener('click', e => {
                    xeroxScene++;
                });
            }
        });
    // let booksContainer = document.querySelector("#books-container");

    // for (let i = 0; i < 40; i++) {
    //     let whichBook = Math.random() < 0.5 ? "xerox-alto" : "xerox-alto";

    //     let coordX = Math.random() < 0.5 ? Math.round(Math.random() * 20) : Math.round(Math.random() * -20);
    //     let coordZ = Math.random() < 0.5 ? Math.round(Math.random() * 20) : Math.round(Math.random() * -20);
    //     let duration = 2000 + Math.round(Math.random() * 2000);

    //     let booksContainerHTML = `
    //         <a-entity
    //             class="book"
    //             gltf-model="${whichBook}/scene.gltf"
    //             scale="1 1 1"
    //             rotation="90 0 0"
    //             position="${coordX} ${3 * i} ${coordZ}"
    //             animation="property: rotation; to: 90 360 0; loop: true; dur: ${duration}; easing: linear">
    //         </a-entity>
    //         `;

    //         booksContainer.innerHTML += booksContainerHTML
    // };
</script>
</html>